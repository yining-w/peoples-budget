<<<<<<< HEAD
---
title: "pairwise data"
author: "Yi Ning"
date: "10/27/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(kableExtra)
library(RColorBrewer)
library(tidyverse)

pairwise = read.csv('wikisurvey_results.csv')
```

Set up

```{r cars}
head(pairwise)

##create rank by theme
pairwise = 
  pairwise %>% group_by(Theme) %>% 
      mutate(group_rank = order(AOI_web_score, decreasing=TRUE))

pairwise = pairwise[
  with(pairwise, order(Theme, group_rank, Ranking)),
]

##create a table for english
pairwise_eng = subset(pairwise, select = c(Theme,Idea_Text, Ranking, group_rank, AOI_web_score, total_matches))

##create a table for spanish
pairwise_spanish = subset(pairwise, select = c(Theme,Idea_ES, Ranking, group_rank, AOI_web_score, total_matches))

```

Make summary tables for the ideas
```{r pressure, echo=FALSE}
colnames(pairwise_eng) = c("Theme", "Idea", "Rank", "Group_Rank", "Score", "Total Matches")
kbl(pairwise_eng) %>%
  kable_styling(bootstrap_options = c("striped", "hover")) %>%
    save_kable("pairwise_eng.pdf")

colnames(pairwise_spanish) = c("Theme", "Idea", "Rank", "Group_Rank", "Score", "Total Matches")
kbl(pairwise_spanish) %>%
  kable_styling(bootstrap_options = c("striped", "hover")) %>%
    save_kable("pairwise_spanish.pdf")


```
Plot by theme
```{r}
pairwise_eng %>%
  ggplot() +
  geom_hline(aes(yintercept=median(Score)), line = "dashed", color= "maroon4") +
  geom_point(aes(y = Score, x=Rank),color="maroon4") +
  facet_wrap(~Theme) + 
  theme_minimal() +
  labs(title="All of the Ideas Visualized by Category",
       subtitle = "Each dot represents an idea. The higher the dot, the higher its score/ 
The further right the dot the higher its rank. The horizontal line indicates the median score.",
       caption = "The People's Budget Chicago",
       x = "Rank", y = "Score")

ggsave("pairwise.png")
?geom_hline
  
```
  
=======
---
title: "pairwise data"
author: "Yi Ning"
date: "10/27/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(kableExtra)
library(RColorBrewer)
library(tidyverse)

pairwise = read.csv('wikisurvey_results.csv')
```

Set up

```{r cars}
head(pairwise)

##create rank by theme
pairwise = 
  pairwise %>% group_by(Theme) %>% 
      mutate(group_rank = order(AOI_web_score, decreasing=TRUE))

pairwise = pairwise[
  with(pairwise, order(Theme, group_rank, Ranking)),
]

##create a table for english
pairwise_eng = subset(pairwise, select = c(Theme,Idea_Text, Ranking, group_rank, AOI_web_score, total_matches))

##create a table for spanish
pairwise_spanish = subset(pairwise, select = c(Theme,Idea_ES, Ranking, group_rank, AOI_web_score, total_matches))

```

Make summary tables for the ideas
```{r pressure, echo=FALSE}
colnames(pairwise_eng) = c("Theme", "Idea", "Rank", "Group_Rank", "Score", "Total Matches")
kbl(pairwise_eng) %>%
  kable_styling(bootstrap_options = c("striped", "hover")) %>%
    save_kable("pairwise_eng.pdf")

colnames(pairwise_spanish) = c("Theme", "Idea", "Rank", "Group_Rank", "Score", "Total Matches")
kbl(pairwise_spanish) %>%
  kable_styling(bootstrap_options = c("striped", "hover")) %>%
    save_kable("pairwise_spanish.pdf")


```
Plot by theme
```{r}
pairwise_eng %>%
  ggplot() +
  geom_hline(aes(yintercept=median(Score)), line = "dashed", color= "maroon4") +
  geom_point(aes(y = Score, x=Rank),color="maroon4") +
  facet_wrap(~Theme) + 
  theme_minimal() +
  labs(title="All of the Ideas Visualized by Category",
       subtitle = "Each dot represents an idea. The higher the dot, the higher its score/ 
The further right the dot the higher its rank. The horizontal line indicates the median score.",
       caption = "The People's Budget Chicago",
       x = "Rank", y = "Score")

ggsave("pairwise.png")
  
```
  
>>>>>>> b18d100d7c1d2136235e6ac82bc7749c5704390f
